---
title: 工厂方法模式
date: 2018-06-03 18:31:12
tags: 设计模式
categories: design pattern
description: 设计模式--工厂方法模式
---
> 工厂方法模式的定义: Define an interface for creating an object, but let subclasses decide which class to instantiate.Factory Method lets a class defer instantiation to subclasses.(定义一个用于创建对象的接口,让子类决定实例化哪一个类.工厂方法使一个类的实例化延迟到子类)
#### 一个简单的例子
```
// 抽象产品类
public abstract class Product {
	// 产品类的公共方法
	public void methodA() {
		// 业务逻辑处理
	}
	// 抽象方法
	public abstract void methodB();
}
// 具体产品类
public void productA extends Product {
	public void methodB() {
		// 业务逻辑处理
	}
}
public void productB extends Product {
	public void methodB() {
		// 业务逻辑处理
	}
}
// 抽象工厂类
public abstract class Creator() {
	// 创建一个产品对象,输入的参数类型自行设置(通常为String,Enumm,Class等,也可以为空)
	public abstract <T extends Product> T createProduct(Class<T> c);
}
// 具体工厂类
public class ConcreteCreator extends Creator {
	public <T extends Product> T createProduct(Class<T> c) {
		Product product = null;
		try {
			product = (Product) Class.forName(c.getName()).newInstance();
		} catch(Exception e) {
			e.printStackTrace();
		}
		return (T)product;
	}
}
// 场景类
public class Client {
	public static void main(String...args) {
		Creator creator = new ConcreteCreator();
		Product productA = creator.createProduct(ProductA.class);
		// 处理业务逻辑
		// ...
	}
}
```
